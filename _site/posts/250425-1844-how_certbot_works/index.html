
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/output.css">
    <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/lightfair.min.css">
    <link rel="icon" href="/assets/favicon/favicon.png">
    <link rel="icon" href="/assets/favicon/favicon512x512.png" sizes="512x512">
    <link rel="icon" href="/assets/favicon/favicon.ico" sizes="32x32">
    <link rel="icon" href="/assets/favicon/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/assets/favicon/apple-touch-icon.png"><!-- 180Ã—180 -->
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      function handleThemeChange() {
        document.documentElement.classList.toggle(
          "dark",
          localStorage.theme === "dark" ||
            (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches),
        );
      }

      handleThemeChange();

      function toggleLightTheme() {
        if (localStorage.theme === "light") {
          return;
        } else {
          localStorage.theme = "light";
          handleThemeChange();
        }
      }

      function toggleDarkTheme() {
        if (localStorage.theme === "dark") {
          return;
        } else {
          localStorage.theme = "dark";
          handleThemeChange();
        }
      }

      function toggleSystemTheme() {
        localStorage.removeItem("theme");
        handleThemeChange();
      }

    </script>
    <title>How certbot works</title>
  </head>
  <body>
  <div class="min-h-screen px-4 sm:px-8">
    <div class="sm:flex items-center">
      <a href="/">
        <div class="py-8 flex gap-4 group">
          <div class="group-hover:bg-radial-gradient-animation self-center bg-radial-[circle_at_50%_75%] from-purple-700 via-purple-500 to-pink-400 to-90% w-6 h-6 rounded-full">
          </div>
          <h1 class="self-center text-2xl p-0 text-transparent font-extrabold bg-clip-text bg-gradient-to-r from-purple-500 from-10% via-pink-500 via-30% to-orange-500 to-90% w-fit">The Learning Corner</h1>
        </div>
      </a>
      <div class="flex gap-2 ml-auto py-2 sm:py-0">
        <button class="hover:cursor-pointer" onclick="toggleDarkTheme()">
          <box-icon type="solid" name="moon" color="white" class="hidden dark:block"></box-icon>
          <box-icon type="solid" name="moon" color="black" class="block dark:hidden"></box-icon>
        </button>
        <button class="hover:cursor-pointer" onclick="toggleLightTheme()">
          <box-icon type="solid" name="sun" color="white" class="hidden dark:block"></box-icon>
          <box-icon type="solid" name="sun" color="black" class="block dark:hidden"></box-icon>
        </button>
        <button class="hover:cursor-pointer" onclick="toggleSystemTheme()">
          <box-icon name="desktop" color="white" class="hidden dark:block"></box-icon>
          <box-icon name="desktop" color="black" class="block dark:hidden"></box-icon>
        </button>
        <div class="self-center pl-[3px]">
          <a href="https://github.com/davidcode2">
            <svg viewbox="0 0 100 100" class="h-5 w-5 fill-black dark:fill-white" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"></path></svg>
          </a>
        </div>
      </div>
    </div>
    <div class="flex flex-col xl:flex-row mt-2 gap-x-10 gap-y-4">
      
<div class="max-w-[800px]">
  <h1 class="text-2xl font-bold pb-4">How certbot works</h1>
  
    <div class="text-sm pb-4">April 25, 2025</div>
  
  <div class="markdown">
  <p>Certbot allows me to provide a certificate to my webpage by simply running a docker container.
How does it work? Let's find out in this post.</p>
<p>Let's start by recapitulating how SSL certificates work. These are required to ensure
encryption in transit. Meaning they ensure that data sent between the client and the
server is encrypted and cannot be deciphered by potential eavesdroppers.</p>
<p>To decrypt data, certificates contain a public and private key pair.
To see how these are used, check this post: <a href="understanding_ssl/understanding_ssl">Understanding SSL</a>.</p>
<p>Now we have another part of the SSL certificate, namely the chain of trust.
What would we need trust for here? Isn't the encryption taking care of
everything? The problem is that we cannot know whether the public key we
receive as a client from a server is in fact the key from the site that we want
to communicate with. An attacker could intercept the public key sent from the
server we want to communicate with and manipulate it. Thereby any data we send could
be read by the attacker while we think that the data is safely encrypted.</p>
<p>A malicious actor could also impersonate the site we want to access and without
the mechanism of the chain of trust we would have no way of knowing whether we
are communicating with the intended party.</p>
<p>Ok so now we know why we need trust. How does it work? It is really quite simple.
Consider the following real world analogy: You receive a letter from a person unknown to
you. If theres a signature of a respected person that you know on the letter, you are
more likely to trust the person who sent the letter.</p>
<p>The certificate consisting of data about our site is being signed by a
Certificate authority (CA).</p>
<p>Signing works by taking the contents of the certificate and hashing it. The resulting
hash is called a fingerprint.
This hash is then encrypted using the CAs private key. This fingerprint is
stored with our certificate. When the client then receives the certificate
it can check it by hashing the contents of the certificate. It then gets the fingerprint.
Now to check whether the certificate can be trusted, it simply requests the public key
from the CA and decrypts the digital signature. If the resulting fingerprints match,
the certificate can be considered legit. ok but this is only one hop along the chain.
To verify the CAs authenticity the client will request the public key of the CA one level
above which signed the CAs certificate and repeat the process. Thus the chain
is followed until the root CA is reached. This CA is stored on the operating system or browser
and is assumed as trustworthy.</p>
<p>So now we should understand what certbot is doing. To enable certbot to it's
work we need to provide it with information about our site like the domain
name, the owner and so on. Certbot will take this data and apply at a CA on our
behalf. The data required for the application is called Certificate Signing
Request (CSR). If the CA deems the data correct, it will sign our certificate.</p>
<p>How does the CA check if everything is fine? There are different levels of stringency
when validating. The simplest form is called Domain validation.
This might work by sending a message to the email address associated with the domain
which you will have to confirm. Or as is likely the case with Let's encrypt, to
check the existence of a file on the server.</p>

  </div>
</div>

    </div>
  </div>
  </body>
</html>
